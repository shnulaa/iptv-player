# IPTV Player ğŸ“º

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ IPTV æ’­æ”¾å™¨ï¼Œæ”¯æŒ M3U åˆ—è¡¨å¯¼å…¥ã€é¢‘é“ç®¡ç†å’Œ HLS æµæ’­æ”¾ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ **HLS æµæ’­æ”¾** - åŸºäº HLS.js çš„é«˜è´¨é‡æµåª’ä½“æ’­æ”¾
- ğŸ“‹ **M3U åˆ—è¡¨æ”¯æŒ** - æ”¯æŒå¯¼å…¥å’Œç®¡ç† M3U æ’­æ”¾åˆ—è¡¨
- ğŸ” **æ™ºèƒ½æœç´¢** - é¢‘é“åç§°å’Œåˆ†ç»„æœç´¢è¿‡æ»¤
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ—‚ï¸ **é¢‘é“ç®¡ç†** - é¢‘é“åˆ†ç»„ã€æ”¶è—å’Œç¼–è¾‘åŠŸèƒ½
- ğŸ¨ **ç°ä»£ UI** - åŸºäº React + Tailwind CSS çš„ç¾è§‚ç•Œé¢
- âš¡ **å®æ—¶ä»£ç†** - åç«¯ä»£ç†æœåŠ¡ä¼˜åŒ–è·¨åŸŸæµè®¿é—®
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** - SQLite æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **Framer Motion** - æµç•…çš„åŠ¨ç”»åº“
- **HLS.js** - HTTP Live Streaming æ’­æ”¾å™¨
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Lucide React** - ç°ä»£å›¾æ ‡åº“

### åç«¯
- **Node.js** - JavaScript è¿è¡Œæ—¶
- **Express** - Web åº”ç”¨æ¡†æ¶
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **better-sqlite3** - SQLite Node.js é©±åŠ¨
- **CORS** - è·¨åŸŸèµ„æºå…±äº«
- **Axios** - HTTP å®¢æˆ·ç«¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/shnulaa/iptv-player.git
   cd iptv-player
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   # å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆå‰ç«¯ + åç«¯ï¼‰
   npm run install:all

   # æˆ–è€…åˆ†åˆ«å®‰è£…
   cd backend && npm install
   cd ../frontend && npm install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   # åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
   npm run dev

   # æˆ–è€…åˆ†åˆ«å¯åŠ¨
   npm run dev:backend  # åç«¯æœåŠ¡ (http://localhost:3001)
   npm run dev:frontend # å‰ç«¯æœåŠ¡ (http://localhost:3000)
   ```

4. **è®¿é—®åº”ç”¨**
   - å‰ç«¯: http://localhost:3000
   - åç«¯ API: http://localhost:3001/api

### Docker éƒ¨ç½²

1. **ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰**
   ```bash
   docker-compose up -d
   ```

2. **æˆ–æ‰‹åŠ¨æ„å»ºè¿è¡Œ**
   ```bash
   # æ„å»ºé•œåƒ
   docker build -t iptv-player .

   # è¿è¡Œå®¹å™¨
   docker run -d \
     --name iptv-player \
     -p 3000:3000 \
     -v ./backend/data:/app/backend/data \
     iptv-player
   ```

## ğŸ“ é¡¹ç›®ç»“æ„

```
iptv-player/
â”œâ”€â”€ frontend/                 # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/         # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelPlayer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ M3UUploader.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ api/            # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                 # Node.js åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ channels.js
â”‚   â”‚   â”‚   â”œâ”€â”€ history.js
â”‚   â”‚   â”‚   â””â”€â”€ proxy.js
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ index.js        # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ data/               # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml       # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile              # Docker é•œåƒé…ç½®
â”œâ”€â”€ package.json            # æ ¹é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š

```env
# åç«¯é…ç½®
HOST=0.0.0.0
PORT=3001

# æ•°æ®åº“è·¯å¾„
DB_PATH=./data/iptv.db
```

### API æ¥å£

#### é¢‘é“ç®¡ç†
- `GET /api/channels` - è·å–é¢‘é“åˆ—è¡¨
- `POST /api/channels` - æ·»åŠ é¢‘é“
- `PUT /api/channels/:id` - æ›´æ–°é¢‘é“ä¿¡æ¯
- `DELETE /api/channels/:id` - åˆ é™¤é¢‘é“
- `POST /api/channels/import` - å¯¼å…¥ M3U åˆ—è¡¨

#### ä»£ç†æœåŠ¡
- `GET /api/proxy/*` - æµåª’ä½“ä»£ç†æœåŠ¡

#### è§‚çœ‹å†å²
- `GET /api/history` - è·å–è§‚çœ‹å†å²
- `POST /api/history` - è®°å½•è§‚çœ‹å†å²

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. å¯¼å…¥ M3U åˆ—è¡¨

1. ç‚¹å‡»ç•Œé¢çš„ "å¯¼å…¥ M3U" æŒ‰é’®
2. é€‰æ‹©æˆ–è¾“å…¥ M3U æ–‡ä»¶ URL
3. ç³»ç»Ÿä¼šè‡ªåŠ¨è§£æå¹¶å¯¼å…¥é¢‘é“ä¿¡æ¯

### 2. æ’­æ”¾é¢‘é“

1. åœ¨é¢‘é“åˆ—è¡¨ä¸­æ‰¾åˆ°æƒ³çœ‹çš„é¢‘é“
2. ç‚¹å‡»é¢‘é“å¡ç‰‡æˆ–æ’­æ”¾æŒ‰é’®
3. è§†é¢‘æ’­æ”¾å™¨ä¼šè‡ªåŠ¨åŠ è½½å¹¶æ’­æ”¾

### 3. é¢‘é“ç®¡ç†

- **æœç´¢**: ä½¿ç”¨æœç´¢æ¡†æŒ‰é¢‘é“åç§°è¿‡æ»¤
- **åˆ†ç»„**: æŒ‰é¢‘é“åˆ†ç»„æŸ¥çœ‹ä¸åŒç±»åˆ«çš„é¢‘é“
- **æ”¶è—**: æ”¶è—å–œæ¬¢çš„é¢‘é“ä¾¿äºå¿«é€Ÿè®¿é—®
- **ç¼–è¾‘**: ç¼–è¾‘é¢‘é“åç§°ã€åˆ†ç»„ç­‰ä¿¡æ¯

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

```bash
cd frontend
npm start    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build  # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```

### åç«¯å¼€å‘

```bash
cd backend
npm start    # å¯åŠ¨æœåŠ¡å™¨
npm run dev   # å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
```

### æ•°æ®åº“ç®¡ç†

æ•°æ®åº“æ–‡ä»¶ä½äº `backend/data/iptv.db`ï¼Œä½¿ç”¨ SQLite æ ¼å¼ï¼š

```bash
# æŸ¥çœ‹æ•°æ®åº“
sqlite3 backend/data/iptv.db

# æŸ¥çœ‹é¢‘é“è¡¨
SELECT * FROM channels;

# æŸ¥çœ‹è§‚çœ‹å†å²
SELECT * FROM watch_history;
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**
   - ç¡®ä¿ 3000 å’Œ 3001 ç«¯å£æœªè¢«å ç”¨
   - å¯åœ¨ package.json ä¸­ä¿®æ”¹ç«¯å£é…ç½®

2. **M3U å¯¼å…¥å¤±è´¥**
   - æ£€æŸ¥ M3U æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ URL å¯è®¿é—®ä¸”è¿”å›æœ‰æ•ˆçš„ M3U å†…å®¹

3. **æ’­æ”¾å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤æµåª’ä½“ URL æœ‰æ•ˆ
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

4. **CORS é”™è¯¯**
   - åç«¯å·²é…ç½® CORSï¼Œå¦‚ä»æœ‰é—®é¢˜è¯·æ£€æŸ¥ä»£ç†è®¾ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# å¼€å‘ç¯å¢ƒæ—¥å¿—ç›´æ¥åœ¨ç»ˆç«¯æ˜¾ç¤º

# Docker ç¯å¢ƒæ—¥å¿—
docker logs iptv-player
docker-compose logs iptv-player
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [HLS.js](https://github.com/video-dev/hls.js) - ä¼˜ç§€çš„ HLS æ’­æ”¾å™¨åº“
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Express](https://expressjs.com/) - Web åº”ç”¨æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/shnulaa/iptv-player/issues)
- Email: [ä½ çš„é‚®ç®±]

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼